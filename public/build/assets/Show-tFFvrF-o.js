import{j as s,J as a,r as d}from"./app-CeL17lsE.js";import{B as o}from"./Base-COiCnIHa.js";import{C as h}from"./CommentForm-DrNKHlPp.js";import"./TextInput-DIzGoC6r.js";import"./InputLabel-CgbnObFB.js";function x({links:e,className:n=""}){return e.length<=3?null:s.jsx("div",{className:`flex items-center justify-center ${n}`,children:s.jsxs("nav",{className:"join",children:[s.jsx(a,{href:e[0].url||"#",className:`join-item btn btn-sm ${e[0].url?"":"btn-disabled"}`,children:"«"}),e.slice(1,-1).map((r,i)=>s.jsx(a,{href:r.url||"#",className:`join-item btn btn-sm ${r.active?"btn-active":""}`,children:r.label},i)),s.jsx(a,{href:e[e.length-1].url||"#",className:`join-item btn btn-sm ${e[e.length-1].url?"":"btn-disabled"}`,children:"»"})]})})}function m({comment:e,auth:n}){const[r,i]=d.useState(!1),[l,c]=d.useState(!1);return s.jsxs("div",{className:"border-b border-base-200 pb-6 last:border-0 last:pb-0",children:[s.jsxs("div",{className:"flex gap-4",children:[s.jsx(a,{href:route("users.show",e.user.username),className:"flex-shrink-0",children:s.jsx("div",{className:"avatar",children:s.jsx("div",{className:"w-10 rounded-full",children:s.jsx("img",{src:e.user.avatar||`https://ui-avatars.com/api/?name=${e.user.name}`,alt:e.user.name})})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{href:route("users.show",e.user.username),className:"font-semibold hover:text-primary transition",children:e.user.name}),s.jsx("span",{className:"text-xs text-base-content/50",children:e.created_at})]}),s.jsxs(a,{href:route("posts.show",e.post.slug),className:"text-sm text-base-content/50 hover:text-primary block mt-1",children:["Sur : ",e.post.title]}),s.jsx("p",{className:"mt-2 text-base-content",children:e.content}),s.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm",children:[s.jsxs("button",{className:`btn btn-xs gap-1 px-2 ${e.has_liked?"btn-error text-white":"btn-ghost hover:text-primary"}`,children:[s.jsx("svg",{className:"w-4 h-4",fill:e.has_liked?"currentColor":"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})}),s.jsx("span",{children:e.likes_count})]}),e.replies_count>0&&s.jsxs("button",{onClick:()=>i(!r),className:"btn btn-xs btn-ghost gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),r?"Masquer":"Afficher"," (",e.replies_count,")"]}),n.user&&s.jsx("button",{onClick:()=>c(!l),className:"btn btn-xs btn-ghost",children:"Répondre"})]}),l&&s.jsx("div",{className:"mt-3",children:s.jsx(h,{postId:e.post.id,parentId:e.id,onSuccess:()=>c(!1)})})]})]}),r&&e.replies.length>0&&s.jsxs("div",{className:"mt-4 pl-4 border-l-2 border-base-300 space-y-4",children:[e.replies.map(t=>s.jsxs("div",{className:"flex gap-3",children:[s.jsx(a,{href:route("users.show",t.user.username),className:"flex-shrink-0",children:s.jsx("div",{className:"avatar",children:s.jsx("div",{className:"w-8 rounded-full",children:s.jsx("img",{src:t.user.avatar||`https://ui-avatars.com/api/?name=${t.user.name}`,alt:t.user.name})})})}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(a,{href:route("users.show",t.user.username),className:"text-sm font-semibold hover:text-primary",children:t.user.name}),s.jsx("span",{className:"text-xs text-base-content/50",children:t.created_at})]}),s.jsx("p",{className:"text-sm mt-1",children:t.content})]})]},t.id)),e.replies_count>e.replies.length&&s.jsx(a,{href:route("comments.show",e.id),className:"text-sm text-primary hover:underline inline-block mt-2",children:"Voir toutes les réponses"})]})]})}function j({post:e}){return s.jsxs("div",{className:"card bg-base-100 shadow-xl hover:shadow-2xl transition-shadow duration-300",children:[e.image&&s.jsx("figure",{className:"h-48 overflow-hidden",children:s.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover",loading:"lazy"})}),s.jsxs("div",{className:"card-body bg-base-200",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"avatar",children:s.jsx("div",{className:"w-8 rounded-full",children:s.jsx("img",{src:e.author.avatar||`https://ui-avatars.com/api/?name=${e.author.name}`,alt:e.author.name})})}),s.jsx("span",{className:"text-sm",children:e.author.name}),s.jsxs("span",{className:"text-sm text-gray-500",children:["• ",e.published_at]})]}),s.jsx("h2",{className:"card-title",children:s.jsx(a,{href:route("posts.show",e.slug),className:"hover:text-primary",children:e.title})}),s.jsx("p",{className:"mt-2 text-gray-600",children:e.excerpt}),s.jsx("div",{className:"card-actions justify-end mt-4",children:s.jsx(a,{href:route("posts.show",e.slug),className:"btn btn-primary btn-sm",children:"Lire la suite"})})]})]})}function f({user:e,comments:n,posts:r=[],auth:i}){return s.jsx(o,{auth:i,children:s.jsxs("div",{className:"max-w-6xl mx-auto p-4 sm:p-6 lg:p-8",children:[s.jsx("div",{className:"card bg-base-200 shadow-lg mb-6",children:s.jsx("div",{className:"card-body",children:s.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-6",children:[s.jsx("div",{className:"avatar",children:s.jsx("div",{className:"w-24 rounded-full",children:s.jsx("img",{src:e.avatar||`https://ui-avatars.com/api/?name=${e.name}`,alt:e.name})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold",children:e.name}),s.jsxs("p",{className:"text-base-content/60",children:["@",e.username]}),e.bio&&s.jsx("p",{className:"mt-3 text-base-content",children:e.bio}),s.jsxs("div",{className:"flex gap-6 mt-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:e.posts_count}),s.jsx("span",{className:"text-base-content/60 ml-1",children:"Posts"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:e.comments_count}),s.jsx("span",{className:"text-base-content/60 ml-1",children:"Commentaires"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold",children:e.likes_count}),s.jsx("span",{className:"text-base-content/60 ml-1",children:"Likes"})]})]}),(e.website||e.birthdate)&&s.jsxs("div",{className:"mt-4 text-sm text-base-content/60 space-y-1",children:[e.website&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"})}),s.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"hover:underline",children:e.website.replace(/^https?:\/\//,"")})]}),e.birthdate&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsxs("span",{children:["Né(e) le ",new Date(e.birthdate).toLocaleDateString("fr-FR")]})]})]})]})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4 ",children:[s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Posts récents"}),r.length===0?s.jsxs("div",{className:"alert alert-info",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:"Aucun post"})]}):s.jsx("div",{className:"space-y-4 ",children:r.map(l=>s.jsx(j,{post:l},l.id))})]}),s.jsx("div",{className:"card bg-base-200 shadow-lg",children:s.jsxs("div",{className:"card-body",children:[s.jsx("h2",{className:"card-title",children:"Commentaires récents"}),n.data.length===0?s.jsxs("div",{className:"alert alert-info",children:[s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"stroke-current shrink-0 w-6 h-6",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),s.jsx("span",{children:"Aucun commentaire pour le moment"})]}):s.jsx("div",{className:"space-y-6",children:n.data.map(l=>s.jsx(m,{comment:l,auth:i},l.id))}),s.jsx("div",{className:"mt-6",children:s.jsx(x,{links:n.links})})]})})]})]})})}export{f as default};
